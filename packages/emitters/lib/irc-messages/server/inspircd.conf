# This configuration defines a basic permissive development server.
#
# Summary:
#
#   - The server binds to two ports on localhost:
#     - localhost:6666 - Insecure
#     - localhost:6667 - Secure
#   - Bots can assume a +B (bot) user mode
#   - Several channels are permanently available:
#     - #announce: channel for testing announcement handling
#     - #autojoin: users are automatically joined on connect
#     - #secure: only users connecting over SSL can join
#
# Resources:
#
#   - https://wiki.inspircd.org/Configuration
#   - inspircd/docs/conf/inspircd.conf.example
#   - inspircd/docs/conf/modules.conf.example

<server
  name="ircmon.tld"
  description="ircmon test server"
  id="000"
  network="Private"
>

<admin
  name="Mr Person"
  nick="Person"
  email="person@ircmon.tld"
>

<bind
  port="6666"
  type="clients"
>

<bind
  port="6667"
  ssl="openssl"
  type="clients"
>

<connect
  allow="*"
  port="6666"
>

<connect
  allow="*"
  port="6667"
>

#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
# Botmode module: Adds the user mode +B. If set on a user, it will
# show that the user is a bot in /WHOIS.
<module name="m_botmode.so">

#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
# Auto join on connect module: Allows you to force users to join one
# or more channels automatically upon connecting to the server.
<module name="m_conn_join.so">

#-#-#-#-#-#-#-#-#-#-#-#- CONNJOIN CONFIGURATION  -#-#-#-#-#-#-#-#-#-#-#
#
# If you have m_conn_join.so loaded, you can configure it using the
# following values, or set autojoin="#chat,#help" in <connect> blocks.
#
<autojoin channel="#autojoin">

#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
# Permanent channels module: Channels with the permanent channel mode
# will remain open even after everyone else has left the channel, and
# therefore keep things like modes, ban lists and topic. Permanent
# channels -may- need support from your Services package to function
# properly with them. This adds channel mode +P.
# This module is oper-only.
<module name="m_permchannels.so">
#
# If you like, m_permchannels can write a config file of permanent channels
# whenever +P is set, unset, or the topic/modes on a +P channel is changed.
# If you want to do this, set the filename below, and uncomment the include.
#
# If 'listmodes' is true then all list modes (+b, +I, +e, +g...) will be
# saved. Defaults to false.
#<permchanneldb filename="data/permchannels.conf" listmodes="true">
#<include file="data/permchannels.conf">
#
# You may also create channels on startup by using the <permchannels> block.
# Don't forget to set them +P in the modes, or they won't stay permanent.
<permchannels channel="#autojoin" modes="P" topic="Welcome, you automatically joined.">
<permchannels channel="#announce" modes="P" topic="Announcements only.">
<permchannels channel="#secure" modes="Pz" topic="SSL connections only.">

#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
# SSL channel mode module: Adds support for SSL-only channels via
# channel mode +z and the 'z' extban which matches SSL client
# certificate fingerprints.
# Does not do anything useful without a working SSL module and the
# m_sslinfo module (see below).
<module name="m_sslmodes.so">

#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
# SSL info module: Allows users to retrieve information about other
# users' peer SSL certificates and keys. This can be used by client
# scripts to validate users. For this to work, one of m_ssl_gnutls.so
# or m_ssl_openssl.so must be loaded. This module also adds the
# "* <user> is using a secure connection" whois line, the ability for
# opers to use SSL fingerprints to verify their identity and the
# ability to force opers to use SSL connections in order to oper up.
# It is highly recommended to load this module if you use SSL on your
# network.
# For how to use the oper features, please see the first example <oper> tag
# in opers.conf.example.
#
<module name="m_sslinfo.so">

#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
# OpenSSL SSL module: Adds support for SSL connections using OpenSSL,
# if enabled. You must answer 'yes' in ./configure when asked or symlink
# the source for this module from the directory src/modules/extra, if
# you want to enable this, or it will not load.
<module name="m_ssl_openssl.so">
#
#-#-#-#-#-#-#-#-#-#-#- OPENSSL CONFIGURATION   -#-#-#-#-#-#-#-#-#-#-#-#
#                                                                     #
# m_ssl_openssl.so is too complex to describe here, see the wiki:     #
# https://wiki.inspircd.org/Modules/2.0/ssl_openssl                   #
